# **Стратегічний план впровадження розподілених повітряних пошуково-рятувальних систем: від прототипу до евакуації людей важкими дронами**

[Мови]: [EN](Drone%20Swarm%20Evacuation%20Project%20Plan.md) | [PL](Drone%20Swarm%20Evacuation%20Project%20Plan_PL.md) | [UA](Drone%20Swarm%20Evacuation%20Project%20Plan_UA.md)

## **1. Вступ та оперативний контекст**

Сфера пошуку та рятування (SAR) наразі переживає зміну парадигми, зумовлену швидкою мініатюризацією авіоніки та вдосконаленням стратегій автономного керування. Традиційна авіаційна евакуація покладається майже виключно на пілотовані гвинтокрилі літальні апарати — гелікоптери, які є капіталомісткими, дорогими в експлуатації та суворо обмежені рельєфом місцевості та погодними умовами. Хоча малі безпілотні літальні апарати (БПЛА) були успішно інтегровані для розвідки та термального виявлення, можливість фізичного вилучення постраждалого залишається логістичною прогалиною. Один важкий дрон, здатний нести людину (80 кг+), потребує масивного планера (300 кг+ MTOM), що створює проблеми з транспортуванням, подібні до проблем пілотованих літальних апаратів.

Рішення, запропоноване в цьому звіті, — це **Розподілена система підйому (DLS)**: рій менших, портативних дронів, фізично прив'язаних до одного вантажу (постраждалого на ношах). Цей підхід відокремлює вантажопідйомність від розміру окремого агента. Чотири дрони, кожен з яких здатний підняти 30 кг, теоретично можуть транспортувати вантаж вагою 100 кг за умови ефективної координації. Ця модульність дозволяє наземним командам розгортати систему з рюкзаків і збирати її на місці в умовах віддаленої місцевості або міських каньйонів, де гелікоптери не можуть приземлитися.

Однак перехід від одного транспортного засобу з жорстким корпусом до багатоагентної пов'язаної системи вносить нелінійні динамічні складнощі. Вантаж не прикріплений жорстко; він підвішений на гнучких кабелях, що створює хаотичну маятникову систему, якщо її не демпфувати активно. Крім того, вихід з ладу одного агента не повинен призводити до катастрофічної втрати вантажу.

У цьому звіті окреслено двофазну інженерну дорожню карту для реалізації цієї можливості. **Фаза 1** зосереджена на масштабованому прототипі з використанням платформи Holybro X500 V2 та обчислювальних модулів NVIDIA Jetson Orin Nano для перевірки алгоритмів розподіленого керування. **Фаза 2** переносить ці перевірені архітектури в повномасштабну систему важкого підйому з використанням промислових пропульсивних систем (T-Motor/Hobbywing) та відповідно до правил EASA Specific Category.

## **2. Теоретична база: Кооперативна повітряна маніпуляція**

Інженерна основа цього проекту базується на принципах кооперативної повітряної маніпуляції. На відміну від польоту в строю, де агенти зберігають відносні положення без фізичної взаємодії, розподілена система підйому передбачає значне фізичне поєднання. Стан вантажу (положення, швидкість, орієнтація) є результуючим вектором сил натягу, прикладених $N$ агентами.

### **2.1 Фізика роїв з підвішеним вантажем**

Дослідження ТУ Делфт та ETH Цюрих встановили керівні рівняння для таких систем. В одному дроні з підвішеним вантажем дрон повинен нахилятися, щоб прискорити вантаж, викликаючи розгойдування. У багатодронній системі внутрішні сили (натяг між дронами через вантаж) можна контролювати для орієнтації вантажу (рискання/тангаж/крен) незалежно від його траєкторії. Це критична перевага для маневрування ношами крізь лісовий намет.

Динамічну модель можна описати як централізовану масу, з'єднану невагомими кабелями з $N$ квадрокоптерами. Мета керування є двоякою:

1. **Відстеження траєкторії:** Переміщення центру мас вантажу вздовж бажаного шляху $P(t)$.
2. **Управління внутрішнім натягом:** Забезпечення натягу кабелів (уникнення слабини/ривкових навантажень) при мінімізації непотрібного внутрішнього напруження, яке витрачає енергію.

### **2.2 Стратегії керування: Адмітанс проти Імпедансу**

Основним викликом є "жорстка" природа традиційних PID-контролерів положення, що використовуються в стандартних автопілотах (PX4/ArduPilot). Якщо чотири дрони намагатимуться утримувати жорстке положення за допомогою GNSS, дрейф GPS лише на 10 см може спричинити їх зіткнення, розриваючи вантаж або спалюючи їхні двигуни.

Запропоноване рішення використовує **Керування адмітансом (Admittance Control)**. У цій схемі дрон не суворо дотримується положення. Замість цього він діє як система "маса-пружина-демпфер". Якщо кабель тягне дрон (через вітер на вантаж або рух іншого дрона), дрон "допускає" (admits) цю силу і трохи рухається, замість того, щоб боротися з нею з максимальною тягою. Це імітує біологічну координацію, яку спостерігають у мурах, що переміщують важкі предмети їжі. Обчислювальний модуль NVIDIA Jetson на кожному дроні запускатиме нелінійний вирішувач модельно-прогностичного керування (MPC), який розраховує оптимальний вектор тяги для стабілізації вантажу з урахуванням цих обмежень адмітансу, надсилаючи команди орієнтації високого рівня польотному контролеру.

## **3. Фаза 1: Масштабований прототип (Рій "Мікро")**

Фаза 1 — це кампанія зі зниження ризиків. Мета полягає в тому, щоб побудувати рій з 3-4 квадрокоптерів, здатних підняти макет вантажу вагою 2-5 кг. Цей масштаб дозволяє безпечно та з низькими витратами ітерувати програмний стек (Rust/ROS 2) та алгоритми злиття сенсорів (VIO + RTK) перед переходом до високого ризику апаратного забезпечення важкого підйому.

### **3.1 Вибір планера: Holybro X500 V2**

**Holybro X500 V2** обрано як оптимальну платформу для розробки. Це 500-міліметровий квадрокоптер з вуглецевого волокна, спеціально розроблений для досліджень та розробок.

* **Структурна цілісність:** X500 V2 має високоміцні промені з вуглецевого волокна з нейлоновими конекторами, армованими волокном. Ця жорсткість має вирішальне значення для точного керування; гнучкість рами вносить шум в IMU, дестабілізуючи чутливі розподілені цикли керування.
* **Модульність:** Рама включає спеціальну платформу з попередньо просвердленими отворами для встановлення супутніх комп'ютерів (Raspberry Pi/Jetson Nano) та рейкову систему кріплення для камер глибини. Це усуває потребу в складному індивідуальному виготовленні на ранніх етапах.
* **Ремонтопридатність:** Як набір, деталі легко замінюються. Версія "Almost Ready to Fly" (ARF) постачається з попередньо встановленими двигунами та ESC, що значно скорочує час складання.

### **3.2 Обчислювальна архітектура: NVIDIA Jetson Orin Nano**

Стандартним польотним контролерам (Pixhawk) не вистачає потужності для нелінійної оптимізації в реальному часі та обробки зображень. Логіка рою розміщуватиметься на супутньому комп'ютері: **NVIDIA Jetson Orin Nano (8GB)**.

* **Продуктивність:** Orin Nano забезпечує до 40 TOPS продуктивності ШІ. Цього достатньо для запуску:
    * **Візуально-інерціальної одометрії (VIO):** Обробка даних глибини RealSense для оцінки положення без GPS (важливо для надійності).
    * **MPC вирішувачів:** Запуск вирішувачів ACADO або OSQP для алгоритму розподіленого підйому на частоті 50 Гц+.
    * **Zenoh Bridge:** Обробка трафіку високопродуктивної mesh-мережі.
* **Несуча плата:** Стандартний набір розробника є громіздким. Для дрона ми рекомендуємо несучу плату сторонніх виробників, як-от **Seeed Studio reComputer J401** або **Waveshare JETSON-IO-BASE-A**. Вони пропонують ті самі інтерфейси (CSI, M.2 Key E, Gigabit Ethernet) у меншому та легшому форм-факторі.

#### **3.2.1 Проблеми розподілу живлення**

Критичною деталлю інтеграції, яку часто ігнорують, є живлення Jetson. Orin Nano потребує стабілізованого входу постійного струму (5В-12В, залежно від несучої плати).

* **Ризик:** Підключення Jetson безпосередньо до 4S польотної батареї (14.8В-16.8В) є ризикованим, якщо стабілізація несучої плати недостатня для обробки стрибків напруги від гальмування двигуна (регенеративна ЕРС).
* **Рішення:** Високоякісна **схема усунення батареї (BEC)** є обов'язковою. Рекомендується **Matek Systems BEC 12S-PRO**. Він приймає вхідну напругу 9-55В і видає чисті 5В/12В при 5А. Цього достатньо для Jetson (пікове споживання близько 15-25 Вт) та периферійних пристроїв, таких як камера RealSense.

### **3.3 Сенсорний набір та авіоніка**

* **Польотний контролер:** **Holybro Pixhawk 6C**. На базі процесора STM32H7, він пропонує потрійне резервування IMU та віброізоляцію. Він спілкується з Jetson через UART (високошвидкісний лінк MAVLink).
* **GNSS/RTK:** **CubePilot Here 4**. Стандартна точність GPS (2-3 м) недостатня для польоту рою в строю, де дрони можуть перебувати лише на відстані 1-2 метри один від одного. Here 4 забезпечує точність RTK (рівень сантиметра) і діє як периферійний пристрій DroneCAN.
* **Візуальне сприйняття:** **Intel RealSense D435i**. Ця камера глибини з інтегрованим IMU є галузевим стандартом для VIO. Вона буде встановлена на рейковій системі X500 за допомогою надрукованого на 3D-принтері кріплення. D435i дозволяє дрону утримувати положення оптично, якщо зв'язок RTK заглушений або погіршений.

### **3.4 Специфікація матеріалів (BOM) Фази 1 та витрати**

У наступній таблиці наведено приблизну вартість одиниці прототипу Фази 1. Для тестування стабільності потрібно мінімум 3 дрони, причому чотири є оптимальними для резервування.

| Компонент | Специфікація | Вартість одиниці (€) | Кількість | Разом (€) |
| :--- | :--- | :--- | :--- | :--- |
| **Планер** | Holybro X500 V2 ARF Kit (з двигунами/ESC) | €380 | 1 | €380 |
| **Польотний контролер** | Holybro Pixhawk 6C | €215 | 1 | €215 |
| **Модуль GNSS** | CubePilot Here 4 Multiband RTK | €285 | 1 | €285 |
| **Супутній комп'ютер** | NVIDIA Jetson Orin Nano 8GB + Несуча плата | €450 | 1 | €450 |
| **Камера глибини** | Intel RealSense D435i | €415 | 1 | €415 |
| **Радіотелеметрія** | SiYi MK15 Air Unit | €550 | 1 | €550 |
| **Регулятор живлення** | Matek BEC 12S-PRO | €15 | 1 | €15 |
| **Польотна батарея** | 4S 5000mAh 60C LiPo | €65 | 2 | €130 |
| **Кріплення** | 3D-друковані кріплення, кабелі | €50 | 1 | €50 |
| **Разом за одиницю** | | | | **€2,490** |
| **Разом за рій (4 од.)** | | | | **€9,960** |

### **3.5 Стратегія інтеграції Фази 1**

1. **Механічне складання:** Зберіть раму X500. Встановіть Pixhawk 6C на вібродемпфовану платформу.
2. **Монтаж Jetson:** Надрукуйте кріплення несучої плати, яке затискається на рейковій системі X500. Переконайтеся, що камера RealSense жорстко закріплена на рамі.
3. **Електропроводка:** Припаяйте вхід Matek BEC до контактів PDB. Підключіть вихід BEC до роз'єму живлення Jetson.
4. **Налаштування ПЗ:** Прошийте PX4 Autopilot на Pixhawk. Налаштуйте Jetson з Ubuntu та встановіть середовище ROS 2 Humble.

## **4. Архітектура ПЗ: Rust, ROS 2 та Zenoh**

Успіх рою повністю залежить від програмного стеку. Традиційні стеки (C++/Python на ROS 1) страждають від затримок, проблем з безпекою пам'яті та вузьких місць зв'язку. Цей проект використовуватиме сучасний, критично важливий для безпеки стек.

### **4.1 Основний фреймворк: ROS 2 Humble**

ROS 2 (Robot Operating System 2) обрано за його можливості реального часу та децентралізовану архітектуру (відсутність ROS Master).

* **Проміжне ПЗ для зв'язку:** Замість DDS за замовчуванням, ми використовуватимемо **Eclipse Zenoh**. Zenoh розроблений для високопродуктивного зв'язку з низькою затримкою через ненадійні мережі (такі як WiFi mesh-мережі в польових умовах). Він перевершує DDS у сценаріях рою, зменшуючи накладні витрати на трафік виявлення.
* **Міст:** `zenoh-bridge-ros2dds` з'єднає внутрішні топіки ROS 2 кожного дрона із зовнішньою мережею рою.

### **4.2 Логіка керування: Перехід на Rust**

Для циклів керування, критичних для безпеки, мовою вибору є **Rust**. C++ допускає витоки пам'яті та стани гонитви, які можуть призвести до збоїв посеред польоту. Модель володіння пам'яттю Rust гарантує безпеку пам'яті на етапі компіляції.

* **Реалізація:** Ми використовуватимемо клієнтські бібліотеки `ros2_rust` для написання вузлів керування.
* **MAVSDK-Rust:** Інтерфейс між високорівневою логікою ROS 2 та низькорівневим польотним контролером (PX4) оброблятиметься обгорткою Rust для MAVSDK.

### **4.3 Алгоритм керування: Розподілений адмітанс**

Цикл керування, що працює на Jetson, реалізує алгоритм спільного транспортування.

1. **Оцінка стану:** Кожен дрон оцінює положення вантажу відносно себе.
2. **Консенсус сил:** Дрони обмінюються виміряними силами натягу через Zenoh.
3. **Оптимізація:** Локальний MPC вирішувач розраховує необхідний вектор тяги для мінімізації різниці між фактичним положенням вантажу та цільовою траєкторією.
4. **Активація:** Обчислений вектор тяги перетворюється на команди орієнтації та надсилається на Pixhawk через MAVLink.

## **5. Фаза 2: Повномасштабний важкий підйом (Вантаж >25 кг)**

Фаза 2 масштабує систему для підйому людини. Це не лінійне оновлення; фізика важких мультикоптерів призводить до експоненціального збільшення вимог до потужності та структурних напружень.

### **5.1 Специфікація "Важкого підйомника"**

Для підйому людини (80 кг) + ноші (10 кг) + спорядження (5 кг) + запас (20%), загальна вантажопідйомність повинна бути ~115 кг. Рій з 4 дронів означає, що кожен дрон повинен нести ~30 кг вантажу плюс власну вагу (~20 кг). Це ставить MTOM кожного дрона в клас 50-60 кг.

#### **5.1.1 Пропульсивна система**

Нам потрібні промислові двигуни, здатні на тягу 30-40 кг на вісь (у квадрокоптері X4) або 15-20 кг на вісь (у коаксіальному X8).

* **Основний кандидат: T-Motor U15 II KV80.**
* **Альтернатива: Hobbywing XRotor X9 Plus.** Максимальна тяга 26.5 кг на вісь. Конфігурація Coaxial X8 з Hobbywing X9 забезпечить ~200 кг загальної тяги, безпечно несучи вантаж 100 кг з 50% резервуванням.

#### **5.1.2 Структура планера**

* **Рама:** **Foxtech Gaia 160MP** (модифікована) або спеціальна рама з вуглецевого волокна. Промені повинні бути діаметром 40 мм+.

### **5.2 Системи живлення**

* **Напруга:** Система повинна працювати на 12S (44.4В) або 14S (51.8В).
* **Акумулятори:** Для фази підйому **LiPo** є безпечнішим через високу тепловіддачу. Ми рекомендуємо **Tattu Pro 12S 22000mAh**.

### **5.3 BOM Фази 2 (На один дрон — рій з 4)**

| Компонент | Специфікація | Вартість одиниці (€) | Кількість | Разом (€) |
| :--- | :--- | :--- | :--- | :--- |
| **Пропульсивна система** | Hobbywing XRotor X9 Plus | €350 | 8 (X8) | €2,800 |
| **Рама** | Custom Heavy Lift (Gaia 160MP) | €2,200 | 1 | €2,200 |
| **Польотний контролер** | Cube Orange+ | €450 | 1 | €450 |
| **Обчислювальний модуль** | NVIDIA Jetson AGX Orin | €1,500 | 1 | €1,500 |
| **Сенсори** | 2x RealSense D435i + Ouster OS1 LiDAR | €3,500 | 1 | €3,500 |
| **Акумулятори** | Tattu Pro 12S 22000mAh | €750 | 4 | €3,000 |
| **Зв'язок** | Herelink Blue | €1,800 | 1 | €1,800 |
| **Спорядження** | Гак з авторозчепленням + Трос | €600 | 1 | €600 |
| **Разом за одиницю** | | | | **€15,850** |
| **Разом за рій** | **(4 од. + запчастини)** | | | **~€70,000** |

## **6. Інтерфейс вантажу та безпека пацієнта**

### **6.1 Система нош**

* **NATO Litter:** Стандартні ноші НАТО (Stanag 2040) є основою.
* **Розпірна балка:** Необхідна для з'єднання чотирьох тросових прив'язей дронів до чотирьох кутів нош.

### **6.2 Управління прив'яззю**

* **Матеріал:** Трос Dyneema (UHMWPE) через його високе співвідношення міцності до ваги.
* **Аварійне розчеплення:** Кожен дрон повинен мати гак розчеплення з сервоприводом.

## **7. Регуляторний шлях: Відповідність EASA SORA**

Експлуатація рою вагою >25 кг для перенесення людини підпадає під **Specific Category** і межує з **Certified**.

### **7.1 Оцінка ризику специфічних операцій (SORA)**

* **SAIL Level:** Комбінація ризиків призведе до рівня **SAIL V або VI**.

## **8. Фінансовий аналіз та графік**

### **8.1 Оцінка загальної вартості проекту**

* **Апаратне забезпечення Фази 1:** €10,000
* **Апаратне забезпечення Фази 2:** €70,000
* **Наземна станція та інфраструктура:** €15,000
* **Праця розробників (12 місяців):** €150,000
* **Консалтинг з регулювання/сертифікації:** €25,000
* **Загальний оціночний бюджет:** **~€270,000**

### **8.2 Дорожня карта**

* **Місяці 1-3:** Складання дронів Фази 1. Налаштування середовища Rust.
* **Місяці 4-6:** Тестування рою Фази 1 у приміщенні.
* **Місяці 7-9:** Тестування Фази 1 на відкритому повітрі. Закупівля деталей Фази 2.
* **Місяці 10-12:** Складання важких підйомників.
* **Місяць 13+:** Повномасштабні тести підйому. Подача SORA.

## **9. Висновок**

Розробка рою дронів для евакуації людей технічно можлива з використанням сучасних серійних компонентів та вдосконалених алгоритмів розподіленого керування. Перехід на **Rust та ROS 2** забезпечує необхідну надійність ПЗ. Хоча Фаза 1 є відносно недорогим входом, Фаза 2 вимагає значного капіталу та регуляторної суворості. Використовуючи методологію SORA та резервні конфігурації X8, цей проект пропонує революційну можливість для команд SAR: повітряну швидку допомогу, яку можна розгорнути з рюкзака.
